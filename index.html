<!DOCTYPE html>
<html lang="hr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QUICKMIG 300 – EXPERT</title>
    <style>
        :root { --red: #ff2b2b; --green: #2ecc71; --gray: #2b2b2b; }
        body { background: #111; font-family: sans-serif; color: #eee; display: flex; justify-content: center; align-items: center; min-height: 100vh; margin: 0; }
        .panel { width: 95%; max-width: 550px; background: var(--gray); border-radius: 20px; padding: 25px; box-shadow: 0 20px 60px #000; border: 2px solid #444; }
        
        /* Zasloni */
        .grid-display { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 20px; }
        .led { background: #000; color: #f00; font-family: monospace; font-size: 28px; text-align: center; padding: 12px 5px; border-radius: 8px; border: 2px solid #333; }
        .label { font-size: 10px; color: #888; text-align: center; margin-top: 5px; text-transform: uppercase; font-weight: bold; }

        /* Odabir materijala */
        .setup-section { background: #1a1a1a; padding: 15px; border-radius: 10px; margin-bottom: 20px; display: grid; grid-template-columns: 1fr 1fr; gap: 15px; border: 1px solid #333; }
        select { background: #333; color: white; border: 1px solid #555; padding: 10px; border-radius: 5px; width: 100%; }

        /* Analiza vara */
        .weld-preview { height: 60px; background: #222; border-radius: 10px; margin: 20px 0; display: flex; align-items: center; justify-content: center; position: relative; overflow: hidden; border: 1px dashed #555; }
        .bead { height: 15px; border-radius: 10px; transition: 0.3s; }

        .controls { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; margin-bottom: 20px; }
        input[type=range] { width: 100%; accent-color: var(--red); }
        
        .btn { width: 100%; padding: 15px; border-radius: 8px; border: none; font-weight: bold; color: white; cursor: pointer; background: #333; }
        .btn.active { background: var(--red); box-shadow: 0 0 15px rgba(255,43,43,0.4); }
        
        .info-box { font-size: 13px; line-height: 1.6; background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px; border-left: 4px solid var(--red); }
        b { color: var(--red); }
    </style>
</head>
<body>

<div class="panel">
    <h2 style="text-align:center; color:var(--red); margin-top:0;">QUICKMIG 300 EXPERT</h2>

    <div class="grid-display">
        <div>
            <div class="led" id="d_wire">5.0</div>
            <div class="label">Žica (m/min)</div>
        </div>
        <div>
            <div class="led" id="d_volt">19.0</div>
            <div class="label">Napon (V)</div>
        </div>
        <div>
            <div class="led" id="d_gas" style="color: #0af;">10.0</div>
            <div class="label">Plin (L/min)</div>
        </div>
    </div>

    <div class="setup-section">
        <div>
            <label class="label">Debljina Materijala</label>
            <select id="sel_thick" onchange="autoSetup()">
                <option value="1.0">1.0 mm</option>
                <option value="2.0">2.0 mm</option>
                <option value="3.0" selected>3.0 mm</option>
                <option value="5.0">5.0 mm</option>
                <option value="8.0">8.0 mm+</option>
            </select>
        </div>
        <div>
            <label class="label">Vrsta Plina</label>
            <select id="sel_gas" onchange="autoSetup()">
                <option value="10">Ar + CO2 (Mix)</option>
                <option value="12">CO2 100%</option>
                <option value="8">Argon (Al/Inox)</option>
            </select>
        </div>
    </div>

    <div class="weld-preview" id="weld_box">
        <div id="weld_bead" class="bead"></div>
        <span id="weld_label" style="position:absolute; font-size:12px; font-weight:bold;"></span>
    </div>

    <div class="controls">
        <div>
            <input type="range" id="sl_w" min="10" max="150" value="50" oninput="manualAdjust()">
            <div class="label">Ručna Žica</div>
        </div>
        <div>
            <input type="range" id="sl_v" min="100" max="320" value="190" oninput="manualAdjust()">
            <div class="label">Ručni Napon</div>
        </div>
    </div>

    <button id="synBtn" class="btn active" onclick="toggleSyn()">SYNERGIC MOD: UKLJUČEN</button>

    <div class="info-box">
        Materijal: <b>Čelik (Fe)</b> | Žica: <b>1.0 mm</b><br>
        Status plina: <span id="gas_status">Protok optimalan za 1.0mm žicu.</span>
    </div>
</div>

<script>
    let synergic = true;

    function autoSetup() {
        const thickness = parseFloat(document.getElementById('sel_thick').value);
        const gasFactor = parseFloat(document.getElementById('sel_gas').value);
        
        // Automatsko postavljanje parametara na temelju debljine
        let targetWire = thickness * 1.8;
        let targetVolt = 14 + targetWire;

        document.getElementById('sl_w').value = targetWire * 10;
        document.getElementById('sl_v').value = targetVolt * 10;

        // Izračun plina (Promjer žice 1.0mm * faktor)
        let gasFlow = (1.0 * gasFactor).toFixed(1);
        document.getElementById('d_gas').innerText = gasFlow;

        updateUI();
    }

    function manualAdjust() {
        if (synergic) {
            let w = document.getElementById('sl_w').value / 10;
            document.getElementById('sl_v').value = (14 + w) * 10;
        }
        updateUI();
    }

    function toggleSyn() {
        synergic = !synergic;
        const btn = document.getElementById('synBtn');
        btn.classList.toggle('active');
        btn.innerText = synergic ? "SYNERGIC MOD: UKLJUČEN" : "MANUALNI MOD: UKLJUČEN";
    }

    function updateUI() {
        let w = document.getElementById('sl_w').value / 10;
        let v = document.getElementById('sl_v').value / 10;
        
        document.getElementById('d_wire').innerText = w.toFixed(1);
        document.getElementById('d_volt').innerText = v.toFixed(1);

        analyzeWeld(w, v);
    }

    function analyzeWeld(w, v) {
        const bead = document.getElementById('weld_bead');
        const label = document.getElementById('weld_label');
        let idealV = 14 + w;
        let diff = v - idealV;

        if (Math.abs(diff) <= 1.2) {
            bead.style.width = "80%";
            bead.style.background = "var(--green)";
            bead.style.boxShadow = "0 0 15px var(--green)";
            label.innerText = "DOBAR PROFIL VARA";
            label.style.color = "var(--green)";
        } else if (diff < -1.2) {
            bead.style.width = "40%";
            bead.style.background = "var(--red)";
            bead.style.boxShadow = "0 0 5px var(--red)";
            label.innerText = "HLADNO - VISOK VAR";
            label.style.color = "var(--red)";
        } else {
            bead.style.width = "95%";
            bead.style.background = "var(--orange)";
            bead.style.boxShadow = "0 0 20px var(--orange)";
            label.innerText = "PREVRUĆE - ŠIROK VAR";
            label.style.color = "var(--orange)";
        }
    }

    function toggleSyn() {
        synergic = !synergic;
        document.getElementById('synBtn').classList.toggle('active');
        document.getElementById('synBtn').innerText = synergic ? "SYNERGIC MOD: UKLJUČEN" : "MANUALNI MOD: UKLJUČEN";
    }

    window.onload = autoSetup;
</script>
</body>
</html>
