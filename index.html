<!DOCTYPE html>
<html lang="hr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QUICKMIG 300 – ADVANCED Simulator</title>
    <style>
        :root { --red: #ff2b2b; --bg: #151515; --panel: #2b2b2b; }
        body { background: var(--bg); font-family: sans-serif; color: #eee; margin: 0; display: flex; justify-content: center; align-items: center; min-height: 100vh; }
        .panel { width: 95%; max-width: 550px; background: var(--panel); border-radius: 18px; padding: 20px; box-shadow: 0 15px 40px #000; border: 1px solid #444; }
        h2 { text-align: center; color: var(--red); margin: 0 0 15px 0; font-size: 1.4rem; }
        
        .grid-top { display: grid; grid-template-columns: 1fr 1fr; gap: 15px; margin-bottom: 15px; }
        .led-box { background: #000; color: #f00; font-family: monospace; font-size: 32px; text-align: center; padding: 10px; border-radius: 8px; border: 2px solid #444; }
        .label { font-size: 10px; color: #aaa; text-transform: uppercase; margin-top: 5px; text-align: center; }

        .settings-row { display: grid; grid-template-columns: repeat(3, 1fr); gap: 10px; margin-bottom: 20px; }
        select { background: #333; color: white; border: 1px solid #555; padding: 8px; border-radius: 4px; font-size: 12px; }

        .knobs { display: flex; justify-content: space-around; margin-bottom: 20px; }
        .knob-container { display: flex; flex-direction: column; align-items: center; }
        .knob { width: 60px; height: 60px; background: radial-gradient(#555, #111); border-radius: 50%; position: relative; }
        .pointer { width: 3px; height: 25px; background: var(--red); position: absolute; top: 5px; left: 28px; transform-origin: bottom center; }
        input[type=range] { width: 80px; margin-top: 10px; }

        .btn-group { display: grid; grid-template-columns: repeat(4, 1fr); gap: 8px; }
        .btn { background: #3d3d3d; border: none; color: white; padding: 10px 5px; border-radius: 5px; cursor: pointer; font-weight: bold; font-size: 11px; }
        .btn.active { background: var(--red); box-shadow: 0 0 10px rgba(255,0,0,0.5); }

        .info-panel { background: rgba(0,0,0,0.4); padding: 12px; border-radius: 8px; margin-top: 15px; font-size: 12px; border-left: 4px solid var(--red); }
        b { color: var(--red); }
    </style>
</head>
<body>

<div class="panel">
    <h2>LINCOLN QUICKMIG 300 PRO</h2>

    <div class="settings-row">
        <div class="knob-container">
            <select id="sel_mat" onchange="calcGas()">
                <option value="1.0">Čelik Fe (1.0mm)</option>
                <option value="0.8">Čelik Fe (0.8mm)</option>
                <option value="1.2">Inox CrNi (1.0mm)</option>
                <option value="1.0">Aluminij (1.0mm)</option>
            </select>
            <div class="label">Materijal/Žica</div>
        </div>
        <div class="knob-container">
            <select id="sel_gas" onchange="calcGas()">
                <option value="mje">Ar + CO2 (Mix)</option>
                <option value="co2">CO2 100%</option>
                <option value="ar">Argon 100%</option>
            </select>
            <div class="label">Zaštitni Plin</div>
        </div>
        <div class="knob-container">
            <div class="led-box" style="font-size: 20px; padding: 14px 5px;" id="gas_flow">10.0</div>
            <div class="label">Protok (L/min)</div>
        </div>
    </div>

    <div class="grid-top">
        <div class="led-container">
            <div class="led-box" id="d_wire">4.5</div>
            <div class="label">Brzina žice (m/min)</div>
        </div>
        <div class="led-container">
            <div class="led-box" id="d_volt">18.5</div>
            <div class="label">Napon (V)</div>
        </div>
    </div>

    <div class="knobs">
        <div class="knob-container">
            <div class="knob"><div class="pointer" id="p1"></div></div>
            <input type="range" id="r_wire" min="10" max="150" value="45" oninput="update(this.value, 'w')">
            <div class="label">ŽICA</div>
        </div>
        <div class="knob-container">
            <div class="knob"><div class="pointer" id="p2"></div></div>
            <input type="range" id="r_volt" min="100" max="300" value="185" oninput="update(this.value, 'v')">
            <div class="label">NAPON</div>
        </div>
    </div>

    <div class="btn-group">
        <button class="btn active" id="b2t" onclick="setM('2T')">2T</button>
        <button class="btn" id="b4t" onclick="setM('4T')">4T</button>
        <button class="btn active" id="bsy" onclick="toggleSy()">SYN</button>
        <button class="btn" onclick="alert('Gas Test OK')">GAS</button>
    </div>

    <div class="info-panel" id="status">
        Preporučeni protok plina: <b id="inf_gas">10.0 L/min</b><br>
        Synergic: <b id="inf_syn">ON</b> | Mode: <b id="inf_mode">2T</b>
    </div>
</div>

<script>
    let syn = true;

    function update(val, type) {
        if (type === 'w') {
            let ws = (val/10).toFixed(1);
            document.getElementById('d_wire').innerText = ws;
            document.getElementById('p1').style.transform = `rotate(${(val-80)*2}deg)`;
            if (syn) {
                let v = (14 + parseFloat(ws)).toFixed(1);
                document.getElementById('d_volt').innerText = v;
                document.getElementById('r_volt').value = v * 10;
                document.getElementById('p2').style.transform = `rotate(${(v*10-200)*1.5}deg)`;
            }
        } else if (!syn) {
            document.getElementById('d_volt').innerText = (val/10).toFixed(1);
            document.getElementById('p2').style.transform = `rotate(${(val-200)*1.5}deg)`;
        }
    }

    function calcGas() {
        let wireSize = parseFloat(document.getElementById('sel_mat').value);
        let flow = (wireSize * 10).toFixed(1);
        document.getElementById('gas_flow').innerText = flow;
        document.getElementById('inf_gas').innerText = flow + " L/min";
    }

    function toggleSy() {
        syn = !syn;
        document.getElementById('bsy').classList.toggle('active');
        document.getElementById('inf_syn').innerText = syn ? "ON" : "OFF";
    }

    function setM(m) {
        document.getElementById('b2t').classList.toggle('active', m==='2T');
        document.getElementById('b4t').classList.toggle('active', m==='4T');
        document.getElementById('inf_mode').innerText = m;
    }

    window.onload = () => { update(45, 'w'); calcGas(); };
</script>
</body>
</html>
